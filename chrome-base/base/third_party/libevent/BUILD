licenses(["notice"])
package(default_visibility = ["//visibility:public"])
cc_library(name = "libevent",
    srcs = [
        "buffer.c",
        "epoll.c",
        "evbuffer.c",
        "evdns.c",
        "event.c",
        "event_tagging.c",
        "evrpc.c",
        "evutil.c",
        "http.c",
        "log.c",
        "poll.c",
        "select.c",
        "signal.c",
        "strlcpy.c",
    ],
    copts = [
        "-Ithird_party/chromium",
        "-Ithird_party/chromium/base/third_party/libevent/linux",
        "-DCOMPONENT_BUILD",
        "-DBASE_IMPLEMENTATION",
        "-DUSE_X11=1",
        "-DUSE_SYMBOLIZE",
        "-DUSE_OPENSSL=1",
        "-DUSE_GLIB=1",
        "-DUSE_NSS_CERTS=1",
        "-D__STDC_CONSTANT_MACROS",
        "-D__STDC_FORMAT_MACROS",
        "-DHAVE_CONFIG_H",
        "-m64",
        "-march=x86-64",
    ],
)
